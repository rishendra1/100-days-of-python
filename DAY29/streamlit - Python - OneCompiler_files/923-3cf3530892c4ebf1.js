"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[923],{80923:(e,t,n)=>{n.d(t,{A:()=>q});var i=n(74848),o=n(76835),r=n(4429),a=n(52064),s=n(11347),l=n(20889),c=n(72035),d=n(94191),p=n(29713),u=n(64551),h=n(2424),g=n(12515),x=n(60373),m=n(19427),j=n(55935),y=n(11866),A=n(82058),f=n(35820),w=n(15246),C=n(3508),v=n(66903),b=n(42907),S=n(68884),k=n(46550),O=n(77861),E=n(96540),T=n(37318),P=n(49518),z=n(63279),R=n(47863),I=n(99e3),L=n(58166),N=n(50331),_=n(1748),B=n(70595),D=n(65059),M=n(9257),J=n(65592),U=n(95109),F=n(66247),H=n(88661),G=n(23903),$=n(40157),V=n(58782);let W={org:L.A,message:N.A,postPublished:_.A},Y=e=>{let[t,n]=(0,E.useState)(!1),o=(0,T.d4)(e=>e.user.token),r=(0,T.d4)(e=>e.user.orgs),[s,d]=(0,E.useState)([]),[p,u]=(0,E.useState)(!1),[y,A]=(0,E.useState)(0),f=r&&r.length>0?6e4:18e4;async function C(){if(o){let e=await (0,R.Jt)("/api/notifications/getNotificationsCount",o);e&&"success"===e.status&&A(e.count)}}async function v(){u(!0);let e=await (0,R.Jt)("/api/notifications/getNotifications",o);if(e&&"success"===e.status&&e.results&&e.results.length>0){let t=[];e.results.forEach(e=>t.push({id:e._id,text:e.text,link:e.link,type:e.type})),d([...t])}u(!1)}async function b(e){await k(e.id),n(!1),z.Router.pushRoute(e.link)}(0,E.useEffect)(()=>{C()},[]),(0,R.$$)(()=>{C()},f);let S=()=>{n(!1)},k=async e=>{await (0,R.bE)("/api/notifications/clearNotification",o,{notificationIds:e}),s.forEach((t,n)=>{t.id===e&&s.splice(n,1)}),d([...s])},O=async()=>{await (0,R.Jt)("/api/notifications/clearAllNotifications",o),d([])};return(0,i.jsxs)(m.A,{children:[(0,i.jsx)(x.A,{title:"Notification",children:(0,i.jsx)(h.A,{color:"primary",onClick:()=>{n(!0),v()},size:"large",children:(0,i.jsx)(U.A,{badgeContent:y,sx:{"& .MuiBadge-badge":{right:-4,top:5,border:e=>"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}},color:"secondary",children:(0,i.jsx)(B.A,{fontSize:"small"})})})}),(0,i.jsx)(g.Ay,{sx:{"& .MuiDrawer-paper":{width:500,maxWidth:"100%"}},anchor:"right",ModalProps:{BackdropProps:{invisible:!0}},onClose:S,open:t,variant:"temporary",children:(0,i.jsxs)(a.A,{p:3,children:[(0,i.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,i.jsxs)(F.A,{variant:"h4",color:"textPrimary",children:["Notifications"," ",s&&s.length>0?"".concat(s.length):""]}),(0,i.jsx)(h.A,{onClick:S,size:"large",children:(0,i.jsx)(D.A,{})})]}),p&&(0,i.jsx)(V.A,{}),!p&&0===s.length&&(0,i.jsx)(a.A,{p:2,children:(0,i.jsx)(F.A,{variant:"h6",color:"textPrimary",children:"There are no new notifications!"})}),s.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.A,{p:1,display:"flex",justifyContent:"center",children:(0,i.jsx)(j.A,{onClick:()=>O(),endIcon:(0,i.jsx)(M.A,{}),children:"Clear All"})}),(0,i.jsx)(c.A,{dense:!0,disablePadding:!0,children:s.map(e=>{let t=W[e.type];return(0,i.jsxs)(H.Ay,{onClick:()=>b(e),dense:!0,divider:!0,style:{cursor:"pointer"},children:[(0,i.jsx)(G.A,{children:(0,i.jsx)(w.A,{sx:{backgroundColor:e=>e.palette.primary.main,color:e=>e.palette.primary.contrastText},children:(0,i.jsx)(t,{fontSize:"small"})})}),(0,i.jsx)(l.A,{primary:e.text,slotProps:{primary:{variant:"subtitle2",color:"textPrimary"}}}),(0,i.jsx)($.A,{className:"hide",onClick:()=>k(e.id),children:(0,i.jsx)(h.A,{edge:"end","aria-label":"delete",size:"large",children:(0,i.jsx)(J.A,{fontSize:"small"})})})]},e.id)})})]})]})})]})};var K=n(37119),Z=n(2317);let Q=E.forwardRef(function(e,t){return(0,i.jsx)(o.A,{direction:"down",ref:t,...e})}),X={"":"Home",pricing:"Pricing",html:"Editor",challenges:"Challenges",orgs:"Orgs",cheatsheets:"Cheatsheets",tutorials:"Tutorials",search:"Search",users:"Users"},q=e=>{var t;let n=(0,b.A)();(0,r.A)(n.breakpoints.down("lg"));let o=(0,r.A)(n.breakpoints.down("md"));(0,r.A)(n.breakpoints.down("sm"));let L=(0,T.wA)(),N=(0,T.d4)(e=>e.user),_=(0,K.M)(),[B,D]=(0,E.useState)({anchorEl:null,anchorElMore:null,searchModelOpen:!1,drawerOpen:!1,loginModelOpen:!1,formStateSignIn:!0,name:"",email:"",password:"",searchString:""});(0,E.useEffect)(()=>{B.anchorEl&&L((0,P.D)(N.token))},[B.anchorEl,L,N.token]);let M=()=>{D(e=>({...e,anchorEl:null}))},J=()=>{D(e=>({...e,anchorElMore:null}))},U=()=>{z.Router.pushRoute("/users/".concat(N._id)),M()},F=()=>{L((0,P.Ub)()),M()},H=async()=>{let e=(null==N?void 0:N.plan)==="enterprise",{json:t,statusCode:n}=await (0,R.ZM)("/api/country",e?N.token:null);200===n&&t.countryCode&&L((0,P.R_)(t.countryCode))};(0,E.useEffect)(()=>{H()},[]);let G=Object.entries(X).map(e=>{let[t,n]=e;return(0,i.jsx)(z.Link,{route:"/".concat(t),children:(0,i.jsx)(a.A,{component:"span",sx:{textDecoration:"none",color:e=>e.palette.text.primary},children:(0,i.jsx)(s.A,{children:(0,i.jsx)(l.A,{primary:n})})})},t)}),$=(0,i.jsxs)(a.A,{component:"div",sx:{width:"250px"},children:[(0,i.jsx)(c.A,{children:G}),(0,i.jsx)(d.A,{}),(null==N?void 0:N.userLoggedIn)&&(null==N?void 0:N.orgs)&&N.orgs.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.A,{children:N.orgs.map(e=>(0,i.jsx)(z.Link,{route:"/orgs/".concat(e._id,"/").concat(e.link),children:(0,i.jsx)(a.A,{component:"span",sx:{textDecoration:"none",color:e=>e.palette.text.primary},children:(0,i.jsx)(s.A,{children:(0,i.jsx)(l.A,{primary:e.title})})})},e._id))}),(0,i.jsx)(d.A,{})]}),(0,i.jsx)(c.A,{children:(null==N?void 0:N.userLoggedIn)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.A,{onClick:U,children:(0,i.jsx)(l.A,{primary:"My Account"})}),(0,i.jsx)(s.A,{onClick:()=>{z.Router.pushRoute("/notifications"),M()},children:(0,i.jsx)(l.A,{primary:"Notifications"})}),(0,i.jsx)(s.A,{onClick:F,children:(0,i.jsx)(l.A,{primary:"Logout"})})]}):(0,i.jsx)(s.A,{children:(0,i.jsx)(l.A,{primary:"Login",onClick:e=>D({loginModelOpen:!0})})})})]});return(0,i.jsxs)(E.Fragment,{children:[(0,i.jsx)(p.A,{position:e.position||"static",elevation:0,color:"inherit",sx:t=>"fixed"===e.position?{borderBottom:"1px solid #d3d7da",zIndex:t.zIndex.drawer+1}:{},children:(0,i.jsxs)(u.A,{variant:"dense",children:[(0,i.jsx)(h.A,{edge:"start",sx:{marginLeft:"-8px",marginRight:"8px",color:e=>"light"===e.palette.mode?"rgba(0, 0, 0, 0.54)":"#ffffff"},color:"inherit","aria-label":"Menu",onClick:()=>D({drawerOpen:!0}),size:"large",children:(0,i.jsx)(k.A,{})}),(0,i.jsx)(g.Ay,{open:B.drawerOpen,onClose:()=>D({drawerOpen:!1}),children:(0,i.jsx)("div",{tabIndex:0,role:"button",onClick:()=>D({drawerOpen:!1}),onKeyDown:()=>D({drawerOpen:!1}),children:$})}),(0,i.jsx)(z.Link,{route:"/",children:(0,i.jsx)(a.A,{sx:{paddingLeft:"5px",paddingRight:"10px",paddingTop:"1px"},children:(0,i.jsx)(a.A,{sx:e=>({backgroundImage:"light"===e.palette.mode?"url(".concat("https://static.onecompiler.com/images/logo/oc_logo_v4_light.svg",")"):"url(".concat("https://static.onecompiler.com/images/logo/oc_logo_v4_dark.svg",")"),backgroundRepeat:"no-repeat",backgroundSize:"auto",backgroundPosition:"center",height:"27px",width:"180px",cursor:"pointer"})})})}),(0,i.jsx)("span",{style:{flexGrow:1}}),(0,i.jsx)(a.A,{component:"span",sx:{display:{xs:"none",sm:"block"}},children:(0,i.jsx)(x.A,{title:"Search",children:(0,i.jsx)(h.A,{"aria-label":"search",onClick:()=>z.Router.pushRoute("/search"),size:"large",children:(0,i.jsx)(O.A,{color:"primary",fontSize:"small"})})})}),(0,i.jsx)(x.A,{title:"Toggle DarkMode",children:(0,i.jsx)(h.A,{"aria-label":"dark mode",onClick:e=>{let t="dark"===_.theme?"light":"dark";_.onUpdate("theme",t)},size:"large",children:(0,i.jsx)(S.A,{color:"primary",fontSize:"small"})})}),(null==N?void 0:N.userLoggedIn)&&(0,i.jsx)(m.A,{children:(0,i.jsx)(a.A,{component:"span",sx:{display:{xs:"none",sm:"block"}},children:(0,i.jsx)(Y,{})})}),!o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(z.Link,{prefetch:!1,route:"/pricing",children:(0,i.jsx)(j.A,{color:"primary",children:"Pricing"})}),(0,i.jsx)(m.A,{children:Z.DISABLED_COUNTRY_CODES.includes(N.countryCode)?(0,i.jsx)(z.Link,{prefetch:!1,route:"/editor",children:(0,i.jsx)(j.A,{color:"primary",children:"Editor"})}):(0,i.jsx)(z.Link,{prefetch:!1,route:"/studio",children:(0,i.jsx)(j.A,{color:"primary",children:"Studio"})})}),(0,i.jsx)(z.Link,{prefetch:!1,route:"/challenges",children:(0,i.jsx)(j.A,{color:"primary",children:"Challenges"})}),(0,i.jsx)(j.A,{color:"primary","aria-owns":B.anchorElMore?"more-nav-menu":void 0,"aria-haspopup":"true",onClick:e=>{D(t=>({...t,anchorElMore:e.currentTarget}))},children:"Company & More"}),(0,i.jsx)(y.A,{id:"more-nav-menu",anchorEl:B.anchorElMore,open:!!B.anchorElMore,onClose:J,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,i.jsxs)(A.Ay,{container:!0,style:{minWidth:400},children:[(0,i.jsxs)(A.Ay,{item:!0,xs:6,children:[(0,i.jsx)(f.A,{onClick:()=>{J(),z.Router.pushRoute("/about")},children:"About"}),(0,i.jsx)(f.A,{onClick:()=>{J(),z.Router.pushRoute("/contact")},children:"Contact"}),(0,i.jsx)(f.A,{onClick:()=>{J(),z.Router.pushRoute("/apis")},children:"APIs"})]}),(0,i.jsxs)(A.Ay,{item:!0,xs:6,children:[!Z.DISABLED_COUNTRY_CODES.includes(N.countryCode)&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(f.A,{onClick:()=>{J(),z.Router.pushRoute("/editor")},children:"Editor"})}),(0,i.jsx)(f.A,{onClick:()=>{J(),z.Router.pushRoute("/orgs")},children:"Orgs"}),(0,i.jsx)(f.A,{onClick:()=>{J(),z.Router.pushRoute("/wiki")},children:"Wiki"}),(0,i.jsx)(f.A,{onClick:()=>{J(),z.Router.pushRoute("/courses")},children:"Courses"})]})]})}),(0,i.jsx)(a.A,{component:"span",sx:{marginRight:"18px",marginLeft:"18px",paddingBottom:"10px",fontSize:"30px",borderRight:"1px solid #464748",height:"40px"}}),(0,i.jsx)(m.A,{children:(null==N?void 0:N.userLoggedIn)?(0,i.jsx)(w.A,{alt:"",src:N.thumbnail,style:{cursor:"pointer",border:"1px solid #c1c1c1"},"aria-owns":B.anchorEl?"simple-menu":void 0,"aria-haspopup":"true",onClick:e=>{e.preventDefault(),e.stopPropagation(),D(t=>({...t,anchorEl:e.currentTarget}))}}):(0,i.jsx)(j.A,{onClick:e=>D({loginModelOpen:!0}),children:"Login"})}),(0,i.jsxs)(y.A,{id:"simple-menu",anchorEl:B.anchorEl,open:!!B.anchorEl,onClose:M,children:[(0,i.jsx)(f.A,{onClick:U,children:"My account"}),(0,i.jsx)(f.A,{onClick:F,children:"Logout"}),(0,i.jsx)(d.A,{}),null==N?void 0:null===(t=N.orgs)||void 0===t?void 0:t.map(e=>(0,i.jsx)(z.Link,{route:"/orgs/".concat(e._id,"/").concat(e.link),children:(0,i.jsx)(a.A,{component:"span",sx:{textDecoration:"none",color:e=>e.palette.text.primary},children:(0,i.jsx)(f.A,{children:e.title})})},e._id))]})]})]})}),(0,i.jsx)(d.A,{}),!e.disableBottomMargin&&(0,i.jsx)(a.A,{component:"div",sx:{marginBottom:{xs:"10px",md:"30px"}}}),(0,i.jsx)(C.A,{open:B.loginModelOpen,TransitionComponent:Q,keepMounted:e.keepMounted||!1,onClose:e=>D({loginModelOpen:!1}),children:(0,i.jsx)(v.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,i.jsx)(I.A,{onComplete:e=>{D({loginModelOpen:!1})}})})})]})}},85617:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(74848),o=n(71493),r=n(67330);n(96540);let a=e=>(0,i.jsx)(o.A,{sx:{zIndex:e=>e.zIndex.drawer+1,color:"#fff"},open:e.open,children:(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,i.jsx)(r.A,{color:"inherit"}),(0,i.jsx)("p",{children:e.message||""})]})})},59113:(e,t,n)=>{n.d(t,{H:()=>r,o:()=>o.Ay});var i=n(74848),o=n(62636);let r=()=>(0,i.jsx)(o.l$,{})},58782:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(74848),o=n(52064),r=n(77911);n(96540);let a=()=>(0,i.jsxs)(o.A,{sx:e=>({padding:e.spacing(4)}),children:[(0,i.jsx)(r.A,{}),(0,i.jsx)(r.A,{}),(0,i.jsx)(r.A,{}),(0,i.jsx)("br",{}),(0,i.jsx)(r.A,{}),(0,i.jsx)(r.A,{}),(0,i.jsx)(r.A,{})]})},47863:(e,t,n)=>{n.d(t,{$$:()=>O,$C:()=>g,Jt:()=>w,PE:()=>C,Pp:()=>k,RA:()=>m,Se:()=>b,UX:()=>S,ZM:()=>A,bE:()=>x,wQ:()=>j,yH:()=>v,yJ:()=>f,zo:()=>y});var i=n(74848),o=n(52667),r=n(2424),a=n(82058),s=n(66247),l=n(39641),c=n(24545),d=n(38140),p=n.n(d),u=n(96540),h=n(63279);async function g(){let e=await fetch("/api/getId");return(await e.json()).id}async function x(e,t,n){let i=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n)});return await i.json()}async function m(e,t,n){let i=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n)}),o=i.status;return o<400?{statusCode:o,json:await i.json()}:{statusCode:o,error:await i.text()}}async function j(e,t,n){let i=await fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n||{})}),o=i.status;return o<400?{statusCode:o,json:await i.json()}:{statusCode:o,error:await i.text()}}async function y(e,t,n){let i=await fetch(e,{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:n}),o=i.status;return o<400?{statusCode:o,json:await i.json()}:{statusCode:o,error:await i.text()}}async function A(e,t,n){let i=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}),o=i.status;return o<400?{statusCode:o,json:await i.json()}:{statusCode:o,error:await i.text()}}async function f(e,t,n){let i=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n)});return await i.json()}async function w(e,t){let n=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});return await n.json()}async function C(e,t,n){let i=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}),o=await i.blob();p()(o,n)}async function v(e,t,n){let i=await fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(n)});return await i.json()}async function b(e,t,n){let i=new FormData;i.append("file",n);let o=await fetch(e,{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:i});return await o.json()}function S(e){let{toggleMessage:t,snakbarOpen:n,setSnakbarOpen:a}=e.data;return(0,i.jsx)(o.A,{anchorOrigin:{vertical:"top",horizontal:"right"},open:n,autoHideDuration:6e3,onClose:()=>a(!1),message:(0,i.jsx)("span",{id:"message-id",children:t}),action:[(0,i.jsx)(r.A,{"aria-label":"Close",color:"inherit",onClick:()=>a(!1),size:"large",children:(0,i.jsx)(l.A,{})},"close")]})}function k(e){let{count:t,id:n}=e;return(0,i.jsx)(a.Ay,{item:!0,children:(0,i.jsx)(h.Link,{route:"/stats/".concat(n),children:(0,i.jsxs)(a.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",style:{cursor:"pointer"},children:[(0,i.jsxs)(a.Ay,{item:!0,children:[" ",(0,i.jsx)(c.A,{color:"primary"})," "]}),!e.hideCount&&(0,i.jsxs)(a.Ay,{item:!0,children:[" ",(0,i.jsxs)(s.A,{variant:"body2",gutterBottom:!0,children:[" ","".concat(t||0)," "]})," "]})]})})})}function O(e,t){let n=(0,u.useRef)();(0,u.useEffect)(()=>{n.current=e},[e]),(0,u.useEffect)(()=>{if(null!==t){let e=setInterval(function(){n.current()},t);return()=>clearInterval(e)}},[t])}},99e3:(e,t,n)=>{n.d(t,{A:()=>C});var i=n(74848),o=n(52064),r=n(55451),a=n(15246),s=n(55935),l=n(82058),c=n(52667),d=n(66247),p=n(25898),u=n(96540),h=n(37318),g=n(49518),x=n(50030),m=n.n(x);let j=e=>{let{setReCaptchaValue:t,getTurnstileRef:n}=e,o=(0,x.useTurnstile)();return(0,i.jsx)(m(),{theme:"light",sitekey:"0x4AAAAAAA1nNhOurnK73x78",onVerify:e=>{t(e),n&&n(o)}})};var y=n(60848),A=n(85617),f=n(47863),w=n(59113);let C=e=>{let[t,n]=(0,u.useState)(!1);(0,h.d4)(e=>e.user.userLoggedIn);let x=(0,h.wA)(),[m,C]=(0,u.useState)(e.hideMoreOptions||!1),[v,b]=(0,u.useState)(""),[S,k]=(0,u.useState)(""),[O,E]=(0,u.useState)(""),[T,P]=(0,u.useState)(""),[z,R]=(0,u.useState)(null),[I,L]=(0,u.useState)("login"),[N,_]=(0,u.useState)(null),[B,D]=(0,u.useState)(!1),[M,J]=(0,u.useState)(!1),[U,F]=(0,u.useState)(!1),[H,G]=(0,u.useState)(!1),[$,V]=(0,u.useState)(null),[W,Y]=(0,u.useState)(null);async function K(t){if(t&&t.credential){n(!0);let i={provider:"google_one_tap",data:{credential:t.credential}},{statusCode:o,json:r,error:a}=await (0,f.RA)("/api/users",null,i);o<400&&r?(x((0,g.pH)(r)),e.onComplete({status:"success",data:r})):alert("Google OneTap login failed. Error: "+a),n(!1)}else console.log("Google OneTap login failed. Error: ",t)}(0,u.useEffect)(()=>{try{return R(window.self!==window.top),window.document&&((0,y.A)("https://accounts.google.com/gsi/client").onload=()=>{window.google&&(window.google.accounts.id.initialize({client_id:"748546363-11lp66se7cl6samfubad3dlsjnau8t11.apps.googleusercontent.com",callback:K,cancel_on_tap_outside:!1}),window.google.accounts.id.renderButton(document.getElementById("googleDiv"),{type:"standard",theme:"outline",size:"large",text:"signin_with",shape:"rectangular",width:300}),google.accounts.id.prompt())}),()=>{if(window.google)try{window.google.accounts.id.cancel()}catch(e){}}}catch(e){console.log(e)}},[]);let Z=t=>async n=>{let i=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:t,data:n})}),o=await i.json();"success"===o.status?(x((0,g.pH)(o)),e.onComplete({status:"success",data:o})):alert(o.message)},Q=(e,t)=>{"clickaway"!==t&&_(null)},X=async()=>{if(!v||!S||!O){w.o.error("Please fill all fields");return}if(!S.includes("@")||!S.includes(".")){w.o.error("Please enter a valid email");return}if(O.length<8||O.length>32){w.o.error("Password should be between 8 to 32 characters");return}if(v.length<3||v.length>32){w.o.error("Name should be between 3 to 32 characters");return}if(S.length>128){w.o.error("Email should be less than 128 characters");return}let e=await fetch("/api/users/email/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v.trim(),email:S.trim(),password:O.trim(),reCapchaValue:$})}),t=await e.json();"success"===t.status?(L("otpSent"),V(null),null==W||W.reset()):alert(t.message)},q=async()=>{let t=await fetch("/api/users/email/signup/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:S.trim(),otp:T,reCapchaValue:$})}),n=await t.json();if("success"===n.status){let t=n.user;x((0,g.pH)(t)),e.onComplete({status:"success",data:t})}else V(null),null==W||W.reset(),alert(n.message)},ee=async()=>{let e=await fetch("/api/users/email/forgotPassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:S.trim(),reCapchaValue:$})}),t=await e.json();"success"!==t.status?alert(t.message):(L("forgotPasswordOtpSent"),V(null))},et=async()=>{let e=await fetch("/api/users/email/forgotPassword/confirm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:S.trim(),otp:T,password:O,reCapchaValue:$})}),t=await e.json();"success"===t.status?(alert("Password reset successful, please login with new password"),L("login")):(V(null),null==W||W.reset(),alert(t.message))};return null===z?(0,i.jsx)("div",{children:"Loading..."}):z?(0,i.jsx)(d.A,{variant:"body1",gutterBottom:!0,color:"textSecondary",children:"Failed to load login options, please try again."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w.H,{}),(0,i.jsxs)(o.A,{sx:e=>({paddingTop:e.spacing(1),paddingBottom:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"}),children:[(0,i.jsx)(a.A,{variant:"rounded",src:"https://static.onecompiler.com/images/logo/logo_icon_small.png"}),["signUp","login","otpSent"].includes(I)&&(0,i.jsxs)("div",{children:[(0,i.jsxs)(o.A,{sx:e=>({paddingTop:e.spacing(4)}),children:[m&&(0,i.jsxs)("div",{children:[(0,i.jsx)(d.A,{variant:"subtitle1",gutterBottom:!0,color:"textSecondary",children:"Creating an account with onecompiler.com gets you additional benifites & it does not take more than couple of seconds."}),(0,i.jsx)("br",{}),(0,i.jsx)(d.A,{variant:"subtitle1",gutterBottom:!0,color:"textSecondary",children:"1. You can check all your programs history"}),(0,i.jsx)(d.A,{variant:"subtitle1",gutterBottom:!0,color:"textSecondary",children:"2. You can write private programs which only you can see"})]}),(0,i.jsx)(l.Ay,{container:!0,direction:m?"row":"column",justifyContent:"center",alignItems:"stretch",children:(0,i.jsx)(l.Ay,{item:!0,style:{flexGrow:1},children:(0,i.jsx)("div",{style:{paddingLeft:"8px"},id:"googleDiv"})})})]}),m&&(0,i.jsx)(l.Ay,{container:!0,direction:m?"row":"column",justifyContent:"center",alignItems:"center",children:(0,i.jsx)(s.A,{color:"primary",onClick:()=>C(!1),endIcon:(0,i.jsx)(p.A,{}),children:"More login options"})}),!m&&(0,i.jsx)("form",{noValidate:!0,autoComplete:"off",children:(0,i.jsxs)(l.Ay,{sx:e=>({width:"100%",paddingTop:e.spacing(6),minWidth:e.spacing(40)}),container:!0,direction:"column",justifyContent:"flex-start",alignItems:"center",children:[(0,i.jsx)(d.A,{variant:"body1",gutterBottom:!0,children:"signUp"===I?"Create new account.":"or login with email & password"}),I&&"signUp"===I&&(0,i.jsx)(r.A,{id:"name",label:"Name",variant:"outlined",size:"small",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),value:v,onChange:e=>b(e.target.value)}),(0,i.jsx)(r.A,{id:"email",label:"Email",variant:"outlined",size:"small",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),value:S,onChange:e=>k(e.target.value?e.target.value.toLowerCase():"")}),(0,i.jsx)(r.A,{id:"password",label:"Password",type:"password",variant:"outlined",size:"small",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),value:O,onChange:e=>E(e.target.value)}),I&&"otpSent"===I&&(0,i.jsx)(r.A,{id:"otp",label:"OTP (you receive on email)",variant:"outlined",size:"small",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),value:T,onChange:e=>P(e.target.value)}),"login"===I&&(0,i.jsx)(s.A,{variant:"contained",color:"primary",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),onClick:()=>{Z("onecompiler")({email:S,password:O})},children:"Login"}),("signUp"===I||"otpSent"===I)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{paddingTop:12},children:(0,i.jsx)(j,{setReCaptchaValue:V,getTurnstileRef:e=>Y(e)},I)}),I&&"signUp"===I&&(0,i.jsx)(s.A,{disabled:!$,variant:"contained",color:"primary",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),onClick:()=>X(),children:"Sign Up"}),I&&"otpSent"===I&&(0,i.jsx)(s.A,{disabled:!$,variant:"contained",color:"primary",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),onClick:()=>q(),children:"Finish Sign Up"})]}),"login"===I&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.A,{variant:"body2",gutterBottom:!0,children:["New to OneCompiler?  ",(0,i.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>L("signUp"),children:"Sign Up"})]}),(0,i.jsx)(d.A,{variant:"body2",gutterBottom:!0,children:(0,i.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>L("forgotPassword"),children:"Forgot password?"})})]}),"signUp"===I&&(0,i.jsxs)(d.A,{variant:"body2",gutterBottom:!0,children:["Already signed up? ",(0,i.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:()=>L("login"),children:"Login"})]})]})})]}),["forgotPassword","forgotPasswordOtpSent"].includes(I)&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(l.Ay,{sx:e=>({width:"100%",paddingTop:e.spacing(6),minWidth:e.spacing(40)}),container:!0,direction:"column",justifyContent:"flex-start",alignItems:"center",children:[(0,i.jsx)(d.A,{variant:"body1",gutterBottom:!0,sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),children:"forgotPasswordOtpSent"===I?"Please check your email for the OTP, and create your new password.":"Please enter your registered email, we will send you the reset instructions."}),(0,i.jsx)(r.A,{id:"email",label:"Email",variant:"outlined",size:"small",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),value:S,onChange:e=>k(e.target.value?e.target.value.toLowerCase():"")}),"forgotPasswordOtpSent"===I&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.A,{id:"forgotPasswordOtpSent",label:"OTP (you receive on email)",variant:"outlined",size:"small",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),value:T,onChange:e=>P(e.target.value)}),(0,i.jsx)(r.A,{id:"newPassword",label:"New Password",type:"password",variant:"outlined",size:"small",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),value:O,onChange:e=>E(e.target.value)})]}),(0,i.jsx)("div",{style:{paddingTop:12},children:(0,i.jsx)(j,{setReCaptchaValue:V,getTurnstileRef:e=>Y(e)},I)}),"forgotPassword"===I&&(0,i.jsx)(s.A,{disabled:!$,variant:"contained",color:"primary",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),onClick:()=>{ee()},children:"Continue"}),"forgotPasswordOtpSent"===I&&(0,i.jsx)(s.A,{disabled:!$,variant:"contained",color:"primary",sx:e=>({width:e.spacing(38),margin:e.spacing(1)}),onClick:()=>{et()},children:"Reset Password"}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{})]})}),(0,i.jsx)(c.A,{anchorOrigin:{vertical:"top",horizontal:"right"},open:null!==N,autoHideDuration:6e3,onClose:Q,message:N,action:(0,i.jsx)(s.A,{color:"secondary",size:"small",onClick:Q,children:"Okay"})})]}),(0,i.jsx)(A.A,{open:t})]})}},2317:e=>{e.exports={DISABLED_COUNTRY_CODES:["IN","TH"],VALID_PLANS:["enterprise","plus","pro","ultra"]}},49518:(e,t,n)=>{n.d(t,{D:()=>l,HM:()=>o,R_:()=>a,Ub:()=>c,h$:()=>r,pH:()=>s});var i=n(76329);let o=(e,t)=>(n,o)=>{if(n({type:i.r4,payload:+e}),!t){let e=o();localStorage.setItem("reduxState",JSON.stringify({...e}))}},r=(e,t)=>(n,o)=>{if(n({type:i.rc,payload:!!e}),!t){let e=o();localStorage.setItem("reduxState",JSON.stringify({...e}))}},a=(e,t)=>(n,o)=>{if(n({type:i.m3,payload:e}),!t){let e=o();localStorage.setItem("reduxState",JSON.stringify({...e}))}},s=(e,t)=>(n,o)=>{if(n({type:i.K,payload:e}),!t){let e=o();localStorage.setItem("reduxState",JSON.stringify({...e}))}},l=e=>t=>{e?fetch("/api/users/me",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>e.json()).then(e=>{e.plan||(e.plan=null),t(s(e))}):console.log("unable to refresh")},c=()=>e=>{e({type:i.bx,payload:{}}),localStorage.removeItem("reduxState")}},60848:(e,t,n)=>{n.d(t,{A:()=>i});function i(e,t,n){let i=document.createElement("script");return i.setAttribute("async",""),n&&(i.id=n),i.src=e,t?t.appendChild(i):document.head.appendChild(i),i}}}]);